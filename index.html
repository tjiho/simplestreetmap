<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Maps.ppsfleet.navy</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://maps.ppsfleet.navy/mapbox/mapbox-gl-unminified.js'></script>
    <link href='https://maps.ppsfleet.navy/mapbox/mapbox-gl.css' rel='stylesheet' />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://underscorejs.org/underscore-min.js"></script>
    <script src="/static/js/search.js"></script>
    <link href='/static/css/style.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>
    <div id='map'></div>
    <div id="search-container">
        <label class="search-label" for="search-input">
            <img src="/static/images/helium/search.svg" class="search-label__icon"/>
            <input type="search" placeholder="search..." id="search-input" class="search-label__input"/>
        </label>
        <div id="search-results">
        </div>
    </div>
    <nav id="categories">
    </nav>
    <script>



        var map = new mapboxgl.Map({
            container: 'map',
            style: 'https://maps.ppsfleet.navy/tileserver-data/osm-bright-gl-style/style-cdn.json',
            center: [1.4436, 43.6042],
            zoom: 12,
        });

        var nav = new mapboxgl.NavigationControl();

        var gps = new mapboxgl.GeolocateControl({
          positionOptions: {
            enableHighAccuracy: true
          },
          trackUserLocation: true
        })

        var scale = new mapboxgl.ScaleControl({
          maxWidth: 80,
          unit: 'metric'
        });

        var search = new Search(map)

        map.addControl(nav, 'bottom-right');
        map.addControl(gps, 'bottom-right');
        map.addControl(scale);

        map.on('load', function() {
          //plouf
        });
    </script>
</body>
</html>
